{% extends "layout.html" %} {% block title %} Update Movie - {{ movie.title }} {% endblock %} {% block content %}
<form
  method="POST"
  action="/movie/update/{{ movie.id }}"
  class="mx-auto flex max-w-4xl flex-col overflow-hidden rounded-xl bg-white shadow-xl md:flex-row"
>
  <!-- Left: Movie Poster and Upload -->
  <div class="flex flex-col items-center justify-center bg-gray-50 p-6 md:w-1/3">
    <img
      src="/movie/poster/{{ movie.poster }}"
      alt="{{ movie.title }}"
      class="mb-4 h-72 w-48 rounded-md object-cover shadow"
    />
    <label class="block w-full">
      <span class="text-sm font-medium text-gray-700">Change Poster</span>
      <input
        type="file"
        name="poster"
        value="{{ movie.poster }}"
        class="mt-2 block w-full cursor-pointer text-sm text-gray-600 file:mr-4 file:rounded file:border-0 file:bg-indigo-50 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-indigo-700 hover:file:bg-indigo-100"
      />
    </label>
  </div>

  <!-- Right: Movie Info Form -->
  <div class="space-y-5 p-6 md:w-2/3">
    <h2 class="text-xl font-semibold text-gray-800">Update Movie</h2>

    <div>
      <label class="block text-sm font-medium text-gray-700">Title</label>
      <input
        type="text"
        name="title"
        value="{{ movie.title }}"
        class="mt-1 w-full rounded-md border px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
      />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Release Year</label>
      <input
        type="number"
        name="release_year"
        value="{{ movie.release_year }}"
        min="1900"
        max="2100"
        class="mt-1 w-full rounded-md border px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
      />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Rating</label>
      <input
        type="number"
        name="rating"
        value="{{ movie.rating }}"
        step="0.1"
        min="0"
        max="10"
        class="mt-1 w-full rounded-md border px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
      />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Genre</label>
      <input
        type="text"
        name="genre"
        value="{{ movie.genre }}"
        class="mt-1 w-full rounded-md border px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
      />
    </div>

    <div class="flex items-center">
      <input
        type="checkbox"
        name="is_private"
        id="is_private"
        {%
        if
        movie.is_private
        %}
        checked
        {%
        endif
        %}
        class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"
      />
      <label for="is_private" class="ml-2 block text-sm text-gray-700"> Private Movie (Only visible to you) </label>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Description</label>
      <textarea
        name="description"
        rows="4"
        class="mt-1 w-full rounded-md border px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
      >
{{ movie.description }}</textarea
      >
    </div>

    <div class="pt-4">
      <button
        type="submit"
        class="w-full rounded-md bg-indigo-600 px-4 py-2 font-semibold text-white shadow hover:bg-indigo-500"
      >
        Save Changes
      </button>
    </div>
  </div>
</form>
{% endblock %}
